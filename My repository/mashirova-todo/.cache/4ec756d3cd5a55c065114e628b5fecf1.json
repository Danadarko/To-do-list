{"dependencies":[],"generated":{"js":"let addMessage = document.querySelector('.message'),\r\n    addButton = document.querySelector('.add'),\r\n    todo = document.querySelector('.todo'),\r\n    deleteAll = document.querySelector('.delete'),\r\n    deleteLast = document.querySelector('.delete-last'),\r\n    deleteIcon = document.querySelector('.delete_icon'),\r\n    countDiv = document.querySelector('.counter'),\r\n    countCompleted = document.querySelector('.counter__completed'),\r\n    allTasks = document.querySelector('.display-all'),\r\n    completedTasks = document.querySelector('.display-completed'),\r\n    searchTask = document.querySelector('.search_input'),\r\n    todoItem = document.querySelector('.todo_item');\r\n\r\nlet todoList = [];\r\nlet completedCounter = 0;\r\nlet idCounter = 0;\r\nlet currDate = '';\r\nif (localStorage.getItem('todos')) {\r\n    getName();\r\n    displayMessages(todoList, 'init');\r\n}\r\n// to add my tasks\r\naddButton.addEventListener('click', function() {\r\n    if (!addMessage.value.trim()) return;\r\n    currDate = new Date();\r\n    let dateInStr = currDate.toLocaleDateString();\r\n    let newTodo = {\r\n        todo: addMessage.value,\r\n        checked: false,\r\n        important: false,\r\n        id: idCounter++,\r\n        date: dateInStr,\r\n    }\r\n    todoList.push(newTodo);\r\n    displayMessages(todoList, 'add');\r\n    setName();\r\n    addMessage.value = '';\r\n    countDiv.innerHTML = todoList.length;\r\n\r\n\r\n});\r\n\r\nfunction displayMessages(items, action) {\r\n    let displayMessage = '';\r\n    if (items.length === 0) todo.innerHTML = '';\r\n    items.forEach((item) => {\r\n        displayMessage += `\r\n        <li class=\"${action === 'add' ? 'todo_item--animated' : 'todo_item'}\" data-item=${item.id}>\r\n            <div class='todo_container'>\r\n                <input type='checkbox' id='item_${item.id}' ${item.checked ? 'checked' : ''}>\r\n                <label for='item_${item.id}' class=\"${item.important ? 'important' : ''}\">${item.todo}</label>               \r\n                <button class='delete_icon' data-id=${item.id}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" height=\"27\" viewBox=\"0 0 24 27\" width=\"24\"><path d=\"M18.6 25.1H5.39999C4.19999 25.1 3.10001 24.0958 3.10001 22.7904V4.11255H20.8V22.7904C20.8 24.0958 19.8 25.1 18.6 25.1Z\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/><path d=\"M1.3 4.21295H22.7\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/><path d=\"M15.8 4.21295H8.2V3.61044C8.2 2.20458 9.3 1.09998 10.7 1.09998H13.2C14.6 1.09998 15.7 2.20458 15.7 3.61044V4.21295H15.8Z\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/><path d=\"M8.2 7.92841V21.2841\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/><path d=\"M12 7.92841V21.2841\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/><path d=\"M15.8 7.92841V21.2841\" stroke=\"#4F4F4F\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\"/></svg>                \r\n                </button>\r\n            </div>\r\n            <p class='date'>${item.date}</p>        \r\n        </li>\r\n        `;\r\n        todo.innerHTML = displayMessage;\r\n    });\r\n}\r\nsetTimeout(displayMessages, 1000);\r\n\r\nfunction setName() {\r\n    let arrStr = JSON.stringify(todoList);\r\n    localStorage.setItem('todos', arrStr);\r\n    let lengthStr = JSON.stringify(todoList.length);\r\n    localStorage.setItem('length', lengthStr);\r\n    let complCountStr = JSON.stringify(completedCounter);\r\n    localStorage.setItem('completedTasks', complCountStr);\r\n\r\n\r\n}\r\n\r\nfunction getName() {\r\n    let todoListStr = localStorage.getItem('todos');\r\n    todoList = JSON.parse(todoListStr);\r\n    let length = localStorage.getItem('length');\r\n    countDiv.innerHTML = JSON.parse(length);\r\n    let complCount = localStorage.getItem('completedTasks');\r\n    countCompleted.innerHTML = JSON.parse(complCount);\r\n}\r\n\r\n// to add my tasks by pressing enter\r\naddMessage.addEventListener('keypress', function(event) {\r\n        if (event.charCode === 13) {\r\n            if (!addMessage.value) return;\r\n            currDate = new Date();\r\n            let dateInStr = currDate.toLocaleDateString();\r\n            let newTodo = {\r\n                todo: addMessage.value,\r\n                checked: false,\r\n                important: false,\r\n                date: dateInStr,\r\n                id: idCounter++,\r\n            }\r\n            todoList.push(newTodo);\r\n            displayMessages(todoList, 'add');\r\n            setName();\r\n            addMessage.value = '';\r\n            countDiv.innerHTML = todoList.length;\r\n        }\r\n    })\r\n    // to filter completed tasks\r\ncompletedTasks.addEventListener('click', function() {\r\n    let completedTasks = todoList.filter(item => item.checked);\r\n    displayMessages(completedTasks, 'filter');\r\n})\r\n\r\n// to display all tasks\r\nallTasks.addEventListener('click', function() {\r\n    displayMessages(todoList, 'init');\r\n})\r\n\r\n// to search for a task\r\nsearchTask.addEventListener('input', function(e) {\r\n    let searchedTask = todoList.filter(item => item.todo.toUpperCase().startsWith(e.target.value.toUpperCase()));\r\n    displayMessages(searchedTask, 'filter');\r\n})\r\n\r\n// to delete the last task\r\ndeleteLast.addEventListener('click', function(event) {\r\n        todoList.pop();\r\n        displayMessages(todoList, 'filter');\r\n        setName();\r\n        countDiv.innerHTML = todoList.length;\r\n        countCompleted.innerHTML = completedCounter;\r\n    })\r\n    // to delete all tasks\r\ndeleteAll.addEventListener('click', function(event) {\r\n        todoList.splice(0, todoList.length);\r\n        displayMessages(todoList, 'filter');\r\n        setName();\r\n        countDiv.innerHTML = todoList.length;\r\n        completedCounter = 0;\r\n        countCompleted.innerHTML = completedCounter;\r\n    })\r\n    // to delete a task clicking on the basket\r\ntodo.addEventListener('click', function(e) {\r\n    if (e.target.classList.contains('delete_icon')) {\r\n        let obj = document.querySelector(`[data-item='${e.target.dataset.id}']`);\r\n        console.log(e.target.dataset.id);\r\n        let removedObject = todoList.find(item => item.id == e.target.dataset.id);\r\n        todoList = todoList.filter(item => item.id != e.target.dataset.id);\r\n        displayMessages(todoList, 'filter');\r\n        setName();\r\n        countDiv.innerHTML = todoList.length;\r\n        if (removedObject.checked) {\r\n            completedCounter--;\r\n            countCompleted.innerHTML = completedCounter;\r\n        }\r\n    }\r\n})\r\n\r\n// to change checked/unchecked clicking on the checkbox\r\ntodo.addEventListener('change', function(event) {\r\n    let idInput = event.target.getAttribute('id');\r\n    let forLabel = todo.querySelector('[for=' + idInput + ']');\r\n    let valueLabel = forLabel.innerHTML;\r\n    todoList.forEach(item => {\r\n        if (item.todo === valueLabel) {\r\n            item.checked = !item.checked;\r\n            setName();\r\n            if (item.checked) {\r\n                completedCounter++;\r\n            } else if (!item.checked) {\r\n                completedCounter--;\r\n            }\r\n        }\r\n        return item;\r\n    })\r\n    countCompleted.innerHTML = completedCounter;\r\n})"},"hash":"e26339022f91107b7d24caae37cdca97"}